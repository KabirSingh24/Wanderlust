
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head()}">
</head>

<body>
<!-- Navbar -->
<div th:replace="~{fragments/header :: navbar}"></div>

<!-- Filter Section -->
<div id="filters" class="flex-wrap-container">
    <div class="filter"><i class="fa-solid fa-fire fa-lg"></i><p>Trending</p></div>
    <div class="filter"><i class="fa-solid fa-bed fa-lg"></i><p>Room</p></div>
    <div class="filter"><i class="fa-solid fa-mountain-city fa-lg"></i><p>Iconic Cities</p></div>
    <div class="filter"><i class="fa-solid fa-mountain-sun fa-lg"></i><p>Mountains</p></div>
    <div class="filter"><i class="fa-brands fa-fort-awesome fa-lg"></i><p>Castles</p></div>
    <div class="filter"><i class="fa-solid fa-person-swimming fa-lg"></i><p>Pools</p></div>
    <div class="filter"><i class="fa-solid fa-campground fa-lg"></i><p>Camping</p></div>
    <div class="filter"><i class="fa-solid fa-cow fa-lg"></i><p>Farms</p></div>
    <div class="filter"><i class="fa-solid fa-snowflake fa-lg"></i><p>Arctic</p></div>
    <div class="filter"><i class="fa-solid fa-igloo fa-lg"></i><p>Dome</p></div>
    <div class="filter"><i class="fa-solid fa-ship fa-lg"></i><p>Islands</p></div>

    <!-- GST Toggle -->
    <div class="tax-toggle">
        <div class="form-check form-switch m-0">
            <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
            <label class="form-check-label ms-2" for="switchCheckDefault">Display total after taxes</label>
        </div>
    </div>
</div>

<!-- Success/Error Messages -->
<div class="container mt-3">
    <div th:if="${success}" class="alert alert-success" role="alert">
        <i class="fa-solid fa-check-circle"></i> <span th:text="${success}"></span>
    </div>
    <div th:if="${failure}" class="alert alert-danger" role="alert">
        <i class="fa-solid fa-xmark"></i> <span th:text="${failure}"></span>
    </div>
</div>

<!-- Listings -->
<main class="container my-4">
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 g-4">
        <div class="col" th:each="listing : ${listings}">
            <a th:href="@{/listings/{id}(id=${listing.id})}" class="text-decoration-none text-dark">
                <div class="card h-100 listings-card">
                    <img th:src="${listing.images_url}" class="card-img-top" alt="listing_image" style="height:20rem; object-fit:cover;">
                    <div class="card-body">
                        <h5 class="card-title fw-bold" th:text="${listing.title}"></h5>
                        <p class="card-text" th:text="${listing.description}"></p>
                        <p class="card-price mb-1">
                            ₹ <span th:text="${listing.price}"></span> / night
                            <i class="tax-info"> +18% GST</i>
                        </p>
                    </div>
                </div>
            </a>
        </div>
    </div>
</main>

<!-- Footer -->
<div th:replace="~{fragments/footer :: footer}"></div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeo5s84NQZBfTxg0BvUjzPJ8Rn5xF3gZP5G8NsFZy7TtwF3P"
        crossorigin="anonymous"></script>

<!-- Working Toggle Script -->
<script>
    const taxSwitch = document.getElementById("switchCheckDefault");
    const taxInfos = document.querySelectorAll(".tax-info");

    taxSwitch.addEventListener("change", () => {
        taxInfos.forEach(info => {
            info.style.display = taxSwitch.checked ? "inline" : "none";
        });
    });
</script>

</body>
</html>





































<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head th:replace="fragments/header :: head('Listings')">-->
<!--    <title>Listings</title>-->
<!--    <link rel="stylesheet" th:href="@{/css/style.css}">-->
<!--</head>-->
<!--<body>-->
<!--<div th:replace="fragments/header :: navbar"></div>-->

<!--<main class="container my-4">-->
<!--    <h1 th:text="${message}">Listing Added Successfully</h1>-->

<!--    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 g-4 mt-3">-->
<!--        <div class="col" th:each="listing : ${listings}">-->
<!--            <a th:href="@{/listings/{id}(id=${listing.id})}" style="text-decoration:none; color:inherit;">-->
<!--                <div class="card h-100 listings-card">-->
<!--                    <img th:src="${listing.images_url}"-->
<!--                         class="card-img-top"-->
<!--                         alt="Listing Image"-->
<!--                         style="height:20rem; object-fit:cover;">-->
<!--                    <div class="card-body">-->
<!--                        <h5 class="card-title"><strong th:text="${listing.title}"></strong></h5>-->
<!--                        <p class="card-text" th:text="${listing.description}"></p>-->
<!--                        <p class="card-price">₹ <span th:text="${listing.price}"></span> / night</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </a>-->
<!--        </div>-->
<!--    </div>-->
<!--</main>-->

<!--<div th:replace="fragments/footer :: footer"></div>-->
<!--</body>-->
<!--</html>-->
